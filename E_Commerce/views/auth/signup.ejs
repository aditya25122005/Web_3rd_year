<% layout('layouts/boilerplate') %>

<div class="auth-background">
    <div class="container my-5">
        <div class="row">
            <div class="col-md-7 mx-auto">
                <div class="card shadow-lg border-0 rounded-4 signup-card">
                    <div class="card-body p-4 p-md-5">
                        <h1 class="card-title text-center fw-bold mb-4">Create Your Account</h1>
                        <%- include('../partials/flash') %> 
                        <form action="/register" method="post" class="needs-validation" novalidate>

                            <div class="form-floating mb-3">
                                <input class="form-control" type="text" name="username" id="username" placeholder="Username" required>
                                <label for="username">Username</label>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>

                            <div class="form-floating mb-3">
                                <input class="form-control" type="email" name="email" id="email" placeholder="Email" required>
                                <label for="email">Email address</label>
                                <div class="invalid-feedback">
                                    Please enter a valid email.
                                </div>
                            </div>

                            <div class="form-floating mb-4">
                                <input class="form-control" type="password" name="password" id="password" placeholder="Password" required>
                                <label for="password">Password</label>
                                <div class="invalid-feedback">
                                    Please choose a password.
                                </div>
                            </div>

                            <div class="mb-4">
                                <p class="mb-2 fw-semibold text-muted">Register as:</p>
                                <div class="d-flex gap-4">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="role" value="buyer" id="buyer" checked>
                                        <label class="form-check-label text-dark" for="buyer">Buyer</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="role" value="seller" id="seller">
                                        <label class="form-check-label text-dark" for="seller">Seller</label>
                                    </div>
                                </div>
                            </div>

                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-primary btn-lg fw-bold rounded-pill signup-btn">Sign Up</button>
                            </div>

                            <p class="text-center mt-3 mb-0 text-muted">
                                Already have an account? <a href="/login" class="text-decoration-none fw-semibold">Log In</a>
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

    body {
        font-family: 'Poppins', sans-serif;
        background-color: #f0f2f5;
    }

    .auth-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: url('https://images.unsplash.com/32/Mc8kW4x9Q3aRR3RkP5Im_IMG_4417.jpg?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YmFja2dyb3VuZHxlbnwwfHwwfHx8MA%3D%3D') no-repeat center center;
        background-size: cover;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow-y: auto;
    }

    .auth-background::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 0;
    }

    .container {
        position: relative;
        z-index: 1;
    }

    .signup-card {
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }

    .signup-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
    }

    .card-title {
        color: #333;
        font-size: 2rem;
    }

    .form-floating label {
        color: #6c757d;
    }

    .form-control:focus {
        border-color: #0d6efd;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
    
    .signup-btn {
        transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out;
        background-color: #28a745; /* Green button for "Sign Up" */
        border-color: #28a745;
    }

    .signup-btn:hover {
        transform: scale(1.02);
        background-color: #218838;
        border-color: #1e7e34;
    }
</style>